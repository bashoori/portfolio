# ğŸ¥ Healthcare FHIR Data Pipeline Project

This project demonstrates a complete data engineering workflow for synthetic healthcare records using **FHIR (Fast Healthcare Interoperability Resources)** data generated by [Synthea](https://github.com/synthetichealth/synthea). It includes parsing, cleaning, structuring, and storing patient data in both **CSV and SQLite formats**, visualizing it with **Streamlit**, and connecting it to **Looker Studio** for cloud-based dashboards.

---

## ğŸš€ Project Features

âœ… Extracts key healthcare data from FHIR JSON bundles  
âœ… Parses and saves structured CSVs for each resource:  
&nbsp;&nbsp;&nbsp;&nbsp;ğŸ“„ `Patient`, ğŸ©º `Condition`, ğŸ¥ `Encounter`, ğŸ”¬ `Observation`  
âœ… Loads data into a local SQLite database (`fhir_data.db`)  
âœ… Query samples via `query_sqlite.py`  
âœ… Interactive dashboard built using Streamlit  
âœ… Cloud dashboard-ready for Looker Studio  
âœ… Organized, modular scripts and documentation

---

## ğŸ“‚ Project Structure

```
healthcare-FHIR-data-pipeline/
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ patients_parser.py            # Extract Patient data
â”‚   â”œâ”€â”€ condition_parser.py           # Extract Condition data
â”‚   â”œâ”€â”€ encounter_parser.py           # Extract Encounter data
â”‚   â”œâ”€â”€ observation_parser.py         # Extract Observation data
â”‚   â”œâ”€â”€ load_to_sqlite.py             # Load CSVs into SQLite
â”‚   â”œâ”€â”€ query_sqlite.py               # Run SQL queries on the DB
â”‚   â”œâ”€â”€ dashboard_app.py              # Streamlit app (basic)
â”‚   â””â”€â”€ dashboard_app_with_filters.py # Streamlit app with filters
â”‚
â”œâ”€â”€ data/
â”‚   â””â”€â”€ output/
â”‚       â”œâ”€â”€ parsed_patients.csv
â”‚       â”œâ”€â”€ parsed_conditions.csv
â”‚       â”œâ”€â”€ parsed_encounters.csv
â”‚       â”œâ”€â”€ parsed_observations.csv
â”‚       â””â”€â”€ fhir_data.db              # SQLite database
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ README.md
â””â”€â”€ fhir_pipeline_diagram.png
```

---

## ğŸ›  Setup Instructions

1. **Install dependencies**

```bash
pip install -r requirements.txt
```

2. **Place your FHIR `.json` files from Synthea** in:
```
/data/
```

3. **Run the parsers**

```bash
cd scripts/
python patients_parser.py
python condition_parser.py
python encounter_parser.py
python observation_parser.py
```

4. **Load to SQLite**

```bash
python load_to_sqlite.py
```

5. **Run sample queries**

```bash
python query_sqlite.py
```

6. **Launch the Streamlit Dashboard**

```bash
streamlit run dashboard_app_with_filters.py
```

---

## ğŸ“Š Visual Dashboard Options

### âœ… Local Interactive Dashboard (Streamlit)

A web-based Python dashboard with filters:
- Filter by gender
- Filter by birth year range
- Filter condition keyword
- See pie charts, bar charts, histograms

ğŸ“„ File: `dashboard_app_with_filters.py`

### âœ… Cloud Dashboard (Looker Studio)

You can export your CSVs to **Google Sheets** or **BigQuery**, and build interactive cloud dashboards in Looker Studio.

---

## ğŸ§  Sample SQL Queries

```sql
-- All female patients
SELECT * FROM patients WHERE Gender = 'female';

-- Active conditions
SELECT * FROM conditions WHERE "Clinical Status" = 'active';

-- Most recent encounters
SELECT * FROM encounters ORDER BY "Start Time" DESC LIMIT 5;
```

---

## ğŸ“ˆ Technologies Used

- Python
- Pandas, SQLite, Requests, JSON, BeautifulSoup
- Google Sheets API (gspread, oauth2client)
- Streamlit + Plotly (for dashboards)
- Looker Studio / BigQuery (optional cloud analytics)
- SQLite3 (local relational database)
- dotenv, tabulate

---

## ğŸ“˜ Visual Diagram

ğŸ”— Live Demos (Codespaces Preview Links)  
- Basic Dashboard: [Streamlit App #1](https://probable-carnival-7wwr7r9xv9j2vgv-8501.app.github.dev/)  
- Dashboard with Filters: [Streamlit App #2](https://probable-carnival-7wwr7r9xv9j2vgv-8502.app.github.dev/) 
![FHIR Dashbord](./dashboard/dashboard1.png)
---

## ğŸ‘©â€ğŸ’» Author

**Bita Ashoori**  
Freelance & Enterprise Data Engineer  
ğŸ“« [LinkedIn](https://www.linkedin.com/in/bashoori) â€¢ ğŸŒ [GitHub Portfolio](https://github.com/bashoori)
